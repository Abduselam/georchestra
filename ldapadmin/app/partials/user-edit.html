<div class="toolbar">
  <a class="btn" href="javascript:history.back();"><i class="icon-arrow-left"></i></a>
  <div class="btn-group">
    <a class="groups btn dropdown-toggle" ng-click="initGroups()" ng-class="{hide: user.uid == null}" data-toggle="dropdown">
      <i class="icon-th-list"></i>
      Groups
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu groups">
      <li class="noclose" ng-repeat="group in user_groups">
        <a href="javascript:void(0);" ng-click="selectGroup(group)">
          <i ng-class="{'icon-ok': group.hasUsers}"></i>
          {{group.name}}
        </a>
      </li>
      <li class="divider"></li>
      <li ng-class="{disabled: !groupsChanged}"><a ng-click="apply()" href="javascript:void(0);">Apply</a></li>
    </ul>
  </div>
  <div class="btn-group">
    <a class="actions btn dropdown-toggle" ng-class="{hide: user.uid == null}" data-toggle="dropdown">
      Actions
      <span class="caret"></span>
    </a>
    <ul class="dropdown-menu">
      <li><a ng-click="deleteUser(user)" class="delete">Delete user</a></li>
    </ul>
  </div>
</div>
<form action="" name="userForm">
  <div class="control-group" ng-class="{error: userForm.name.$invalid}">
    <label for="givenName">Name</label>
    <input type="text" name="name" ng-model="user.givenName" required />
    <span ng-show="userForm.name.$error.required" class="help-inline">Required</span>
  </div>
  <div class="control-group" ng-class="{error: userForm.mail.$invalid}">
    <label for="mail">E-Mail</label>
    <input type="email" name="mail" ng-model="user.mail" required />
    <span ng-show="userForm.mail.$error.required" class="help-inline">Required</span>
    <span ng-show="userForm.mail.$error.email" class="help-inline">Not a valid E-mail</span>
  </div>
  <a href="javascript:window.history.back();" class="btn cancel">Cancel</a>
  <button ng-click="save()" ng-disabled="isClean() || userForm.$invalid"
          class="btn btn-primary save">Save</button>
</form>
